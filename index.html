<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta property="og:type" content="website">
<meta property="og:title" content="Fqiyou-Blog">
<meta property="og:url" content="http://blog.fqiyou.com/index.html">
<meta property="og:site_name" content="Fqiyou-Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Fqiyou-Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://blog.fqiyou.com/"/>





  <title>Fqiyou-Blog</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Fqiyou-Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Startseite
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archiv
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.fqiyou.com/2018/01/21/1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fqiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fqiyou-Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/21/1/" itemprop="url">python-临时ftp服务器</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-21T20:01:22+08:00">
                2018-01-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="python-快速搭建ftp文件下载服务器"><a href="#python-快速搭建ftp文件下载服务器" class="headerlink" title="python 快速搭建ftp文件下载服务器"></a>python 快速搭建ftp文件下载服务器</h2><blockquote>
<p>主机间互传文件，并且没有互信，每次都很麻烦</p>
</blockquote>
<h3 id="1-0-启动python临时服务器"><a href="#1-0-启动python临时服务器" class="headerlink" title="1.0 启动python临时服务器"></a>1.0 启动python临时服务器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜ python -m SimpleHTTPServer</span><br><span class="line">Serving HTTP on 0.0.0.0 port 8000 ...</span><br></pre></td></tr></table></figure>
<h3 id="2-0-下载"><a href="#2-0-下载" class="headerlink" title="2.0 下载"></a>2.0 下载</h3><blockquote>
<p>浏览器输入ip:8000,或者curl,wget<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl localhost:8000</span><br><span class="line">wget localhost:8000/a.txt</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="3-0-启动报错"><a href="#3-0-启动报错" class="headerlink" title="3.0 启动报错"></a>3.0 启动报错</h3><h4 id="3-1-没有SimpleHTTPServer模块"><a href="#3-1-没有SimpleHTTPServer模块" class="headerlink" title="3.1 没有SimpleHTTPServer模块"></a>3.1 没有SimpleHTTPServer模块</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m http.server</span><br></pre></td></tr></table></figure>
<h3 id="4-0-补充-脚本启动-指定端口"><a href="#4-0-补充-脚本启动-指定端口" class="headerlink" title="4.0 补充-脚本启动,指定端口"></a>4.0 补充-脚本启动,指定端口</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">cd /Users/chaoyang/Work/coohua/nginx-soft-file &amp;&amp; nohup python -c &apos;import BaseHTTPServer as bhs, SimpleHTTPServer as shs; bhs.HTTPServer((&quot;127.0.0.1&quot;, 10000), shs.SimpleHTTPRequestHandler).serve_forever()&apos; &amp;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.fqiyou.com/2017/12/18/1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fqiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fqiyou-Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/18/1/" itemprop="url">azkaban-部署</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-12-18T22:33:04+08:00">
                2017-12-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-0-azkaban下载"><a href="#1-0-azkaban下载" class="headerlink" title="1.0 azkaban下载"></a>1.0 azkaban下载</h3><blockquote>
<p>本次安装是3.30.1版本，需要java8编译和启动</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/azkaban/azkaban.git</span><br><span class="line">cd azkaban</span><br></pre></td></tr></table></figure>
<h3 id="2-0-gradle下载和配置"><a href="#2-0-gradle下载和配置" class="headerlink" title="2.0 gradle下载和配置"></a>2.0 gradle下载和配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 修改gradle为本地,网络下载太慢</span><br><span class="line">vi gradle/wrapper/gradle-wrapper.properties</span><br><span class="line">distributionUrl=gradle-4.1-all.zip</span><br></pre></td></tr></table></figure>
<h3 id="3-0-编译-拷贝编译文件"><a href="#3-0-编译-拷贝编译文件" class="headerlink" title="3.0 编译,拷贝编译文件"></a>3.0 编译,拷贝编译文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">./gradlew build -x testll</span><br><span class="line">cp azkaban-db/build/install/azkaban-db/ azkaban</span><br><span class="line">cp azkaban-exec-server/build/install/azkaban-exec-server/ azkaban</span><br><span class="line">cp azkaban-solo-server/build/install/azkaban-solo-server/ azkaban</span><br><span class="line">cp azkaban-web-server/build/install/azkaban-web-server/ azkaban</span><br></pre></td></tr></table></figure>
<h3 id="4-0-配置"><a href="#4-0-配置" class="headerlink" title="4.0 配置"></a>4.0 配置</h3><h4 id="4-1-ssl和db配置"><a href="#4-1-ssl和db配置" class="headerlink" title="4.1 ssl和db配置"></a>4.1 ssl和db配置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 创建SSL配置</span><br><span class="line">keytool -keystore keystore -alias jetty -genkey -keyalg RSA </span><br><span class="line"># 数据库配置，新建azkaban用户，azkaban数据库</span><br><span class="line">use azkaban</span><br><span class="line">source azkaban-db/create-all-sql-0.1.0-SNAPSHOT.sql</span><br></pre></td></tr></table></figure>
<h4 id="4-2-azkaban-web-server"><a href="#4-2-azkaban-web-server" class="headerlink" title="4.2 azkaban-web-server"></a>4.2 azkaban-web-server</h4><blockquote>
<p>conf可从azkaban-solo-server拷贝，extlib需新建并加入mysql驱动，logs新建</p>
</blockquote>
<h5 id="4-2-1-conf-azkaban-properties"><a href="#4-2-1-conf-azkaban-properties" class="headerlink" title="4.2.1 conf/azkaban.properties"></a>4.2.1 conf/azkaban.properties</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">[fqiyou@namenode azkaban-web-server]$ more conf/azkaban.properties</span><br><span class="line"># Azkaban Personalization Settings</span><br><span class="line">azkaban.name=coohua</span><br><span class="line">azkaban.label=spark003 Azkaban</span><br><span class="line">azkaban.color=#FF3601</span><br><span class="line">azkaban.default.servlet.path=/index</span><br><span class="line">web.resource.dir=/app/soft/azkaban/azkaban/azkaban-web-server/web</span><br><span class="line">default.timezone.id=Asia/Shanghai</span><br><span class="line"># Azkaban UserManager class</span><br><span class="line">user.manager.class=azkaban.user.XmlUserManager</span><br><span class="line">user.manager.xml.file=/app/soft/azkaban/azkaban/azkaban-web-server/conf/azkaban-users.xml</span><br><span class="line"># Loader for projects</span><br><span class="line">executor.global.properties=/app/soft/azkaban/azkaban/azkaban-web-server/conf/global.properties</span><br><span class="line">azkaban.project.dir=projects</span><br><span class="line">database.type=mysql</span><br><span class="line">mysql.port=3306</span><br><span class="line">mysql.host=localhost</span><br><span class="line">mysql.database=azkaban</span><br><span class="line">mysql.user=azkaban</span><br><span class="line">mysql.password=azkaban</span><br><span class="line">mysql.numconnections=100</span><br><span class="line"># Velocity dev mode</span><br><span class="line">velocity.dev.mode=false</span><br><span class="line"># Azkaban Jetty server properties.</span><br><span class="line">jetty.keystore=/app/soft/azkaban/azkaban/key/keystore</span><br><span class="line">jetty.password=coohua</span><br><span class="line">jetty.keypassword=coohua</span><br><span class="line">jetty.truststore=/app/soft/azkaban/azkaban/key/keystore</span><br><span class="line">jetty.trustpassword=coohua</span><br><span class="line">jetty.maxThreads=25</span><br><span class="line">jetty.ssl.port=8433</span><br><span class="line">jetty.hostname=localhost</span><br><span class="line"># Azkaban Executor settings</span><br><span class="line">executor.host=localhost</span><br><span class="line">executor.port=12321</span><br><span class="line"># mail settings</span><br><span class="line">mail.sender=data@coohua.com</span><br><span class="line">mail.host=imap.exmail.qq.com</span><br><span class="line">mail.user=data@coohua.com</span><br><span class="line">mail.password=coohua#008</span><br><span class="line">job.failure.email=yc@fqiyou.com</span><br><span class="line">job.success.email=yc@fqiyou.com</span><br><span class="line"># JMX stats</span><br><span class="line">jetty.connector.stats=true</span><br><span class="line">executor.connector.stats=true</span><br><span class="line"># Azkaban plugin settings</span><br><span class="line">azkaban.jobtype.plugin.dir=/app/soft/azkaban/azkaban/azkaban-web-server/plugins/jobtypes</span><br></pre></td></tr></table></figure>
<h5 id="4-2-2-conf-log4j-properties"><a href="#4-2-2-conf-log4j-properties" class="headerlink" title="4.2.2 conf/log4j.properties"></a>4.2.2 conf/log4j.properties</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[fqiyou@namenoe conf]$ more log4j.properties</span><br><span class="line">log4j.rootLogger=INFO,C</span><br><span class="line">log4j.appender.C=org.apache.log4j.ConsoleAppender</span><br><span class="line">log4j.appender.C.Target=System.err</span><br><span class="line">log4j.appender.C.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.C.layout.ConversionPattern=%d&#123;yyyy-MM-ddHH:mm:ss&#125; %-5p %c&#123;1&#125;:%L - %m%n</span><br><span class="line">[fqiyou@namenode conf]$</span><br></pre></td></tr></table></figure>
<h5 id="4-2-3-conf-azkaban-users-xml"><a href="#4-2-3-conf-azkaban-users-xml" class="headerlink" title="4.2.3 conf/azkaban-users.xml"></a>4.2.3 conf/azkaban-users.xml</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[fqiyou@namenode conf]$ more azkaban-users.xml</span><br><span class="line">&lt;azkaban-users&gt;</span><br><span class="line">  &lt;user groups=&quot;azkaban&quot; password=&quot;azkaban&quot; roles=&quot;admin&quot; username=&quot;azkaban&quot;/&gt;</span><br><span class="line">  &lt;user password=&quot;metrics&quot; roles=&quot;metrics&quot; username=&quot;metrics&quot;/&gt;</span><br><span class="line">  &lt;user username=&quot;fqiyou&quot; password=&quot;fqiyou&quot;/&gt;</span><br><span class="line">  &lt;role name=&quot;admin&quot; permissions=&quot;ADMIN&quot;/&gt;</span><br><span class="line">  &lt;role name=&quot;metrics&quot; permissions=&quot;METRICS&quot;/&gt;</span><br><span class="line">&lt;/azkaban-users&gt;</span><br><span class="line">[fqiyou@namenode conf]$</span><br></pre></td></tr></table></figure>
<h5 id="4-2-4-bin-azkaban-web-start-sh"><a href="#4-2-4-bin-azkaban-web-start-sh" class="headerlink" title="4.2.4 bin/azkaban-web-start.sh"></a>4.2.4 bin/azkaban-web-start.sh</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 指定java版本，必须用8，服务器程序使用的是7且不能修改。</span><br><span class="line">/usr/java/jdk1.8.0_144/bin/java</span><br></pre></td></tr></table></figure>
<h4 id="4-3-azkaban-exec-server"><a href="#4-3-azkaban-exec-server" class="headerlink" title="4.3 azkaban-exec-server"></a>4.3 azkaban-exec-server</h4><blockquote>
<p>conf,plugins可从azkaban-solo-server拷贝，extlib需新建并加入mysql驱动，logs新建，projects新建</p>
</blockquote>
<h5 id="4-3-1-conf-azkaban-properties"><a href="#4-3-1-conf-azkaban-properties" class="headerlink" title="4.3.1 conf/azkaban.properties"></a>4.3.1 conf/azkaban.properties</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[coohua@spark003 conf]$ more azkaban.properties</span><br><span class="line">#Azkaban</span><br><span class="line">default.timezone.id=Asia/Shanghai</span><br><span class="line"></span><br><span class="line"># Azkaban JobTypes Plugins</span><br><span class="line">azkaban.jobtype.plugin.dir=/app/soft/azkaban/azkaban/azkaban-exec-server/plugins/jobtypes</span><br><span class="line"></span><br><span class="line">#Loader for projects</span><br><span class="line">executor.global.properties=/app/soft/azkaban/azkaban/azkaban-exec-server/conf/global.properties</span><br><span class="line">azkaban.project.dir=/app/soft/azkaban/azkaban/azkaban-exec-server/projects</span><br><span class="line"></span><br><span class="line">database.type=mysql</span><br><span class="line">mysql.port=3306</span><br><span class="line">mysql.host=localhost</span><br><span class="line">mysql.database=azkaban</span><br><span class="line">mysql.user=azkaban</span><br><span class="line">mysql.password=azkaban</span><br><span class="line">mysql.numconnections=100</span><br><span class="line"></span><br><span class="line"># Azkaban Executor settings</span><br><span class="line">executor.maxThreads=150</span><br><span class="line">executor.port=12321</span><br><span class="line">executor.flow.threads=130</span><br><span class="line"></span><br><span class="line">mail.sender=fqiyou</span><br><span class="line">mail.host=namenode</span><br><span class="line">[fqiyou@namenode conf]$</span><br></pre></td></tr></table></figure>
<h5 id="4-3-2-conf-log4j-properties"><a href="#4-3-2-conf-log4j-properties" class="headerlink" title="4.3.2 conf/log4j.properties"></a>4.3.2 conf/log4j.properties</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[fqiyou@namenoe conf]$ more log4j.properties</span><br><span class="line">log4j.rootLogger=INFO,C</span><br><span class="line">log4j.appender.C=org.apache.log4j.ConsoleAppender</span><br><span class="line">log4j.appender.C.Target=System.err</span><br><span class="line">log4j.appender.C.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.C.layout.ConversionPattern=%d&#123;yyyy-MM-ddHH:mm:ss&#125; %-5p %c&#123;1&#125;:%L - %m%n</span><br><span class="line">[fqiyou@namenode conf]$</span><br></pre></td></tr></table></figure>
<h5 id="4-3-3-conf-azkaban-users-xml"><a href="#4-3-3-conf-azkaban-users-xml" class="headerlink" title="4.3.3 conf/azkaban-users.xml"></a>4.3.3 conf/azkaban-users.xml</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[fqiyou@namenode conf]$ more azkaban-users.xml</span><br><span class="line">&lt;azkaban-users&gt;</span><br><span class="line">  &lt;user groups=&quot;azkaban&quot; password=&quot;azkaban&quot; roles=&quot;admin&quot; username=&quot;azkaban&quot;/&gt;</span><br><span class="line">  &lt;user password=&quot;metrics&quot; roles=&quot;metrics&quot; username=&quot;metrics&quot;/&gt;</span><br><span class="line">  &lt;user username=&quot;fqiyou&quot; password=&quot;fqiyou&quot;/&gt;</span><br><span class="line">  &lt;role name=&quot;admin&quot; permissions=&quot;ADMIN&quot;/&gt;</span><br><span class="line">  &lt;role name=&quot;metrics&quot; permissions=&quot;METRICS&quot;/&gt;</span><br><span class="line">&lt;/azkaban-users&gt;</span><br><span class="line">[fqiyou@namenode conf]$</span><br></pre></td></tr></table></figure>
<h5 id="4-2-4-bin-azkaban-executor-start-sh"><a href="#4-2-4-bin-azkaban-executor-start-sh" class="headerlink" title="4.2.4 bin/azkaban-executor-start.sh"></a>4.2.4 bin/azkaban-executor-start.sh</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 指定java版本，必须用8，服务器程序使用的是7且不能修改。</span><br><span class="line">/usr/java/jdk1.8.0_144/bin/java</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.fqiyou.com/2017/12/01/1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fqiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fqiyou-Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/01/1/" itemprop="url">nginx配置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-12-01T20:25:30+08:00">
                2017-12-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>一般nginx.conf的主机配置会指向一个文件夹，方便统一管理</p>
</blockquote>
<ul>
<li>nginx.conf 配置文件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"># nginx运行用户及用户组</span><br><span class="line">user    nginx nginx;</span><br><span class="line"></span><br><span class="line"># 线程数，一般跟逻辑CPU核数一致</span><br><span class="line">worker_processes 2;</span><br><span class="line"></span><br><span class="line"># 日志文件</span><br><span class="line">error_log /app/application/logs/nginx/openresty/nginx_error.log error;</span><br><span class="line"></span><br><span class="line"># 进程id的存储文件位置</span><br><span class="line">pid       /app/application/logs/nginx/openresty/nginx.pid;</span><br><span class="line"></span><br><span class="line"># 指定一个nginx进程打开的最多文件描述符数目，受系统进程的最大打开文件数量限制</span><br><span class="line">worker_rlimit_nofile 65535;</span><br><span class="line"></span><br><span class="line">events</span><br><span class="line">&#123;</span><br><span class="line">    # 工作模式:select, poll, kqueue, epoll, /dev/poll, eventport. epoll是多路复用IO中的一种方式</span><br><span class="line">    use epoll;</span><br><span class="line">    #定义每个进程的最大连接数,受系统进程的最大打开文件数量限制</span><br><span class="line">    worker_connections 65535;</span><br><span class="line">&#125;</span><br><span class="line">http</span><br><span class="line">&#123;</span><br><span class="line">    # 设定mime类型,类型由mime.type文件定义</span><br><span class="line">    include mime.types;</span><br><span class="line">    default_type application/octet-stream;</span><br><span class="line"></span><br><span class="line">    # 开启gzip压缩</span><br><span class="line">    gzip on;</span><br><span class="line">    gzip_min_length 1k;</span><br><span class="line">    gzip_buffers 4 16k;</span><br><span class="line">    gzip_http_version 1.0;</span><br><span class="line">    gzip_comp_level 2;</span><br><span class="line">    gzip_types text/plain application/x-javascript text/css application/xml;</span><br><span class="line">    gzip_vary on;</span><br><span class="line"></span><br><span class="line">    # 日志格式</span><br><span class="line">    log_format main</span><br><span class="line">      &apos;$remote_addr - $remote_user [$time_local] &apos;</span><br><span class="line">      &apos;$request_length &apos;</span><br><span class="line">       &apos;&quot;$request&quot; $status $bytes_sent $body_bytes_sent &apos;</span><br><span class="line">      &apos;&quot;$http_referer&quot; &quot;$http_user_agent&quot; &apos;</span><br><span class="line">      &apos;&quot;$gzip_ratio&quot; &quot;$request_time&quot; &apos;</span><br><span class="line">      &apos;&quot;$upstream_addr&quot; &quot;$upstream_status&quot; &quot;$upstream_response_time&quot;&apos;;</span><br><span class="line"></span><br><span class="line">    # 设定请求缓冲</span><br><span class="line">    client_max_body_size 20m;</span><br><span class="line">    large_client_header_buffers  4 128k;</span><br><span class="line">    client_header_buffer_size 128k;</span><br><span class="line"></span><br><span class="line">    # 连接超时时间</span><br><span class="line">    keepalive_timeout 0;</span><br><span class="line"></span><br><span class="line">    # lua kafka</span><br><span class="line">    lua_package_path &quot;/app/application/nginx/openresty-1.11.2.3/lua-resty-kafka-master/lib/?.lua;;&quot;;</span><br><span class="line"></span><br><span class="line">    # 主机配置文件</span><br><span class="line">  	include /app/application/nginx/openresty-1.11.2.3/nginx/conf/vhost/*.conf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>vhost 文件：如：fqiyou.com.conf</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        # 侦听80端口</span><br><span class="line">        listen       80;</span><br><span class="line"></span><br><span class="line">        #定义使用 www.fqiyou.com;</span><br><span class="line">        server_name www.fqiyou.com;</span><br><span class="line"></span><br><span class="line">        #定义服务器的默认网站根目录位置</span><br><span class="line">        root /app/fqiyou/web-app/www;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            root /app/fqiyou/web-app/www;</span><br><span class="line">            index index.html;</span><br><span class="line">        &#125;</span><br><span class="line">        location /dingding &#123;</span><br><span class="line">            allow 192.168.100.0/24;</span><br><span class="line">            allow 172.16.10.0/23;</span><br><span class="line">            allow 192.168.100.0/22;</span><br><span class="line">            allow 123.126.111.162;</span><br><span class="line">            allow 101.200.59.111;</span><br><span class="line">            allow 122.49.39.69;</span><br><span class="line">            expires 1h;</span><br><span class="line">            proxy_set_header Host $host;</span><br><span class="line">            proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">            proxy_pass http://127.0.0.1:5100/;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #静态文件，nginx自己处理</span><br><span class="line">        location ~ ^/(images|javascript|js|css|flash|media|static)/ &#123;</span><br><span class="line">            # 过期30天</span><br><span class="line">            expires 30d;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #禁止访问 .ht文件</span><br><span class="line">        location ~ /.ht &#123;</span><br><span class="line">            deny all;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name fqiyou.com;</span><br><span class="line">        location / &#123;</span><br><span class="line">            proxy_pass http://www.fqiyou.com;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>location匹配命令：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 只匹配&quot;/&quot;</span><br><span class="line">location  = / &#123;</span><br><span class="line">  [ configuration A ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 匹配任何请求,但是更长字符匹配或者正则表达式匹配会优先匹配</span><br><span class="line">location  / &#123;</span><br><span class="line">  [ configuration B ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 匹配任何以 /images/ 开始的请求，并停止匹配 其它location</span><br><span class="line">location ^~ /images/ &#123;</span><br><span class="line">  [ configuration C ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 匹配以 gif, jpg, or jpeg结尾的请求. /images/ 的还是[Configuration C]</span><br><span class="line">location ~* .(gif|jpg|jpeg)$ &#123;</span><br><span class="line">  [ configuration D ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.fqiyou.com/2017/11/30/1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fqiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fqiyou-Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/30/1/" itemprop="url">nginx搭建-openresty</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-11-30T20:19:07+08:00">
                2017-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>下载链接</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://openresty.org/cn/download.html</span><br></pre></td></tr></table></figure>
<ul>
<li>解压</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf openresty-1.11.2.3.tar.gz</span><br></pre></td></tr></table></figure>
<ul>
<li>安装</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">useradd -s /sbin/nolologin -M openresty-nginx;</span><br><span class="line">./configure \</span><br><span class="line"> --prefix=/app/application/nginx/openresty-1.11.2.3\</span><br><span class="line"> --user=openresty-nginx\</span><br><span class="line"> --group=openresty-nginx</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>
<ul>
<li>测试启动</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">./sbin/nginx -t</span><br><span class="line">./sbin/nginx -s reload</span><br><span class="line"></span><br><span class="line">netstat -apu</span><br></pre></td></tr></table></figure>
<ul>
<li><p>问题1</p>
<blockquote>
<p>HTTP rewrite</p>
</blockquote>
<ul>
<li>错误</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">configure: error: the HTTP rewrite module requires the</span><br></pre></td></tr></table></figure>
<ul>
<li>解决</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install pcre-devel openssl openssl-devel</span><br></pre></td></tr></table></figure>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.fqiyou.com/2017/04/21/1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fqiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fqiyou-Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/21/1/" itemprop="url">Hadoop-配置启动</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-21T20:23:03+08:00">
                2017-04-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><h4 id="下载解压"><a href="#下载解压" class="headerlink" title="下载解压"></a>下载解压</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http://192.168.1.109/soft/packages/hadoop-2.6.4.tar.gz</span><br><span class="line">tar -zxvf hadoop-2.6.4.tar.gz</span><br></pre></td></tr></table></figure>
<h4 id="环境变量导入"><a href="#环境变量导入" class="headerlink" title="环境变量导入"></a>环境变量导入</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">export HADOOP_HOME=/app/application/hadoop/hadoop-2.6.4</span><br><span class="line">export HADOOP_INSTALL=$HADOOP_HOME</span><br><span class="line">export HADOOP_MAPRED_HOME=$HADOOP_HOME</span><br><span class="line">export HADOOP_COMMON_HOME=$HADOOP_HOME</span><br><span class="line">export HADOOP_HDFS_HOME=$HADOOP_HOME</span><br><span class="line">export YARN_HOME=$HADOOP_HOME</span><br><span class="line">export HADOOP_YARN_HOME=$HADOOP_HOME</span><br><span class="line">export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</span><br></pre></td></tr></table></figure>
<h4 id="配置文件修改"><a href="#配置文件修改" class="headerlink" title="配置文件修改"></a>配置文件修改</h4><h5 id="core-site-xml"><a href="#core-site-xml" class="headerlink" title="core-site.xml"></a>core-site.xml</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">-- &lt;configuration&gt;节点添加</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;fs.default.name&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hdfs://namenode:9000&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;/app/data/hadoop/tmp&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;io.sort.factor&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;50&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;fs.trash.interval&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;1440&lt;/value&gt;</span><br><span class="line">        &lt;description&gt;</span><br><span class="line">        Number of minutes between trash checkpoints. If zero, the trash feature is disabled.</span><br><span class="line">        &lt;/description&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<h5 id="hadoop-env-sh"><a href="#hadoop-env-sh" class="headerlink" title="hadoop-env.sh"></a>hadoop-env.sh</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- 修改环境变量</span><br><span class="line">export JAVA_HOME=/app/application/java/default</span><br><span class="line">export HADOOP_LOG_DIR=/app/data/hadoop/logs</span><br><span class="line">export HADOOP_CONF_DIR=/app/application/hadoop/hadoop-2.6.4/etc/hadoop</span><br></pre></td></tr></table></figure>
<h5 id="hdfs-site-xml"><a href="#hdfs-site-xml" class="headerlink" title="hdfs-site.xml"></a>hdfs-site.xml</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-- &lt;configuration&gt;节点添加</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;3&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.name.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;/app/data/hadoop/name&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.data.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;/app/data/hadoop/data&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.block.size&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;134217728&lt;/value&gt;</span><br><span class="line">        &lt;description&gt;block size, unit is Byte, default is 64MB&lt;/description&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">        &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.balance.bandwidthPerSec&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;10485760&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;  </span><br><span class="line">        &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;  </span><br><span class="line">        &lt;value&gt;namenode:50090&lt;/value&gt;  </span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<h5 id="yarn-site-xml"><a href="#yarn-site-xml" class="headerlink" title="yarn-site.xml"></a>yarn-site.xml</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">-- &lt;configuration&gt;节点添加</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;  </span><br><span class="line">        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;  </span><br><span class="line">        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;  </span><br><span class="line">    &lt;/property&gt;  </span><br><span class="line">    &lt;property&gt;  </span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.address&lt;/name&gt;  </span><br><span class="line">        &lt;value&gt;namenode:8032&lt;/value&gt;  </span><br><span class="line">    &lt;/property&gt;  </span><br><span class="line">    &lt;property&gt;  </span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt;  </span><br><span class="line">        &lt;value&gt;namenode:8030&lt;/value&gt;  </span><br><span class="line">    &lt;/property&gt;  </span><br><span class="line">    &lt;property&gt;  </span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt;  </span><br><span class="line">        &lt;value&gt;namenode:8031&lt;/value&gt;  </span><br><span class="line">    &lt;/property&gt;  </span><br><span class="line">    &lt;property&gt;  </span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.admin.address&lt;/name&gt;  </span><br><span class="line">        &lt;value&gt;namenode:8033&lt;/value&gt;  </span><br><span class="line">    &lt;/property&gt;  </span><br><span class="line">    &lt;property&gt;  </span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.webapp.address&lt;/name&gt;  </span><br><span class="line">        &lt;value&gt;namenode:8088&lt;/value&gt;  </span><br><span class="line">    &lt;/property&gt;  </span><br><span class="line">     &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.resource.memory-mb&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;225280&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">     &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.scheduler.minimum-allocation-mb&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;4098&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">     &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.resource.cpu-vcores&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;32&lt;/value&gt;</span><br><span class="line">   &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.log-dirs&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;/app/data/hadoop/logs&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<h5 id="yarn-env-sh"><a href="#yarn-env-sh" class="headerlink" title="yarn-env.sh"></a>yarn-env.sh</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 修改环境变量</span><br><span class="line">export JAVA_HOME=/app/application/java/default</span><br></pre></td></tr></table></figure>
<h5 id="mapred-site-xml"><a href="#mapred-site-xml" class="headerlink" title="mapred-site.xml"></a>mapred-site.xml</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;mapred.job.tracker&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;namenode:9001&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;mapred.tasktracker.map.tasks.maximum&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;16&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;mapred.tasktracker.reduce.tasks.maximum&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;16&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;mapred.task.timeout&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;1800000&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;mapred.child.java.opts&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;-Xmx1024m&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;mapred.jobtracker.taskScheduler&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;org.apache.hadoop.mapred.CapacityTaskScheduler&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">     &lt;property&gt;</span><br><span class="line">       &lt;name&gt;mapreduce.map.memory.mb&lt;/name&gt;</span><br><span class="line">       &lt;value&gt;1024&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">       &lt;name&gt;mapreduce.reduce.memory.mb&lt;/name&gt;</span><br><span class="line">       &lt;value&gt;4096&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">       &lt;name&gt;mapreduce.map.java.opts&lt;/name&gt;</span><br><span class="line">       &lt;value&gt;-Xmx768m&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">       &lt;name&gt;mapreduce.reduce.java.opts&lt;/name&gt;</span><br><span class="line">       &lt;value&gt;-Xmx3072m&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<h5 id="slaves"><a href="#slaves" class="headerlink" title="slaves"></a>slaves</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">namenode</span><br><span class="line">datanode1</span><br><span class="line">datanode2</span><br></pre></td></tr></table></figure>
<h3 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h3><h4 id="格式化namenode节点"><a href="#格式化namenode节点" class="headerlink" title="格式化namenode节点"></a>格式化namenode节点</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hdfs namenode -format</span><br></pre></td></tr></table></figure>
<h4 id="启动hdfs"><a href="#启动hdfs" class="headerlink" title="启动hdfs"></a>启动hdfs</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd $HADOOP_HOME/sbin</span><br><span class="line">./start-dfs.sh</span><br></pre></td></tr></table></figure>
<h4 id="启动yarn"><a href="#启动yarn" class="headerlink" title="启动yarn"></a>启动yarn</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd $HADOOP_HOME/sbin</span><br><span class="line">./start-yarn.sh</span><br></pre></td></tr></table></figure>
<blockquote>
<p>hdfs常用命令</p>
</blockquote>
<table>
<thead>
<tr>
<th>命令</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>-ls -R &lt;路径&gt;</td>
<td>递归查看</td>
</tr>
<tr>
<td>-du -s &lt;路径&gt;</td>
<td>汇总统计文件大小</td>
</tr>
<tr>
<td>-rmr &lt;路径&gt;</td>
<td>递归删除</td>
</tr>
<tr>
<td>-put &lt;+linux路径&gt; &lt;路径&gt;</td>
<td>上传</td>
</tr>
<tr>
<td>-copyFromLocal &lt;+linux路径&gt; &lt;路径&gt;</td>
<td>从本地复制</td>
</tr>
<tr>
<td>-getmerge &lt;路径&gt; <linux路径></linux路径></td>
<td>合并到本地</td>
</tr>
<tr>
<td>-copyToLocal  &lt;路径&gt; <linux路径></linux路径></td>
<td>到本地复制</td>
</tr>
<tr>
<td>-touchz</td>
<td>创建文件</td>
</tr>
</tbody>
</table>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.fqiyou.com/2017/04/20/1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fqiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fqiyou-Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/20/1/" itemprop="url">dbca静态</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-20T20:05:50+08:00">
                2017-04-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="dbca静态"><a href="#dbca静态" class="headerlink" title="dbca静态"></a>dbca静态</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">[oracle@fqiyouPc ~]$ dbca -help</span><br><span class="line">dbca  [-silent | -progressOnly | -customCreate] &#123;&lt;command&gt; &lt;options&gt; &#125;  | &#123; [&lt;command&gt; [options] ] -responseFile  &lt;response file &gt; &#125; [-continueOnNonFatalErrors &lt;true | false&gt;]</span><br><span class="line">有关详细信息, 请参阅手册。</span><br><span class="line">可以输入以下命令之一:</span><br><span class="line"></span><br><span class="line">通过指定以下参数创建数据库:</span><br><span class="line">        -createDatabase</span><br><span class="line">                -templateName &lt;现有模板的名称&gt;</span><br><span class="line">                [-cloneTemplate]</span><br><span class="line">                -gdbName &lt;全局数据库名&gt;</span><br><span class="line">                [-policyManaged | -adminManaged &lt;策略管理或管理员管理的数据库, 默认为管理员管理的数据库&gt;]</span><br><span class="line">                        [-createServerPool &lt;创建将由要创建的数据库使用的服务器池&gt;]</span><br><span class="line">                        [-force &lt;在没有足够空闲服务器的情况下强制创建服务器池。这可能会影响已在运行的数据库&gt;]</span><br><span class="line">                        -serverPoolName &lt;如果创建服务器池, 则为一个服务器池名称; 如果使用服务器池, 则为服务器池名称的逗号分隔列表&gt;</span><br><span class="line">                        -[cardinality &lt;为要创建的新服务器池指定基数, 默认为合格的节点数&gt;]</span><br><span class="line">                [-sid &lt;数据库系统标识符&gt;]</span><br><span class="line">                [-sysPassword &lt;SYS 用户口令&gt;]</span><br><span class="line">                [-systemPassword &lt;SYSTEM 用户口令&gt;]</span><br><span class="line">                [-emConfiguration &lt;CENTRAL|LOCAL|ALL|NOBACKUP|NOEMAIL|NONE&gt;</span><br><span class="line">                        -dbsnmpPassword &lt;DBSNMP 用户口令&gt;</span><br><span class="line">                        -sysmanPassword &lt;SYSMAN 用户口令&gt;</span><br><span class="line">                        [-hostUserName &lt;EM 备份作业的主机用户名&gt;</span><br><span class="line">                         -hostUserPassword &lt;EM 备份作业的主机用户口令&gt;</span><br><span class="line">                         -backupSchedule &lt;使用 hh:mm 格式的每日备份计划&gt;]</span><br><span class="line">                        [-smtpServer &lt;电子邮件通知的发件 (SMTP) 服务器&gt;</span><br><span class="line">                         -emailAddress &lt;电子邮件通知的电子邮件地址&gt;]</span><br><span class="line">                        [-centralAgent &lt;Enterprise Manager 中央代理主目录&gt;]]</span><br><span class="line">                [-disableSecurityConfiguration &lt;ALL|AUDIT|PASSWORD_PROFILE|NONE&gt;</span><br><span class="line">                [-datafileDestination &lt;所有数据库文件的目标目录&gt; |  -datafileNames &lt;含有诸如控制文件, 表空间, 重做日志文件数据库对象以及按 name=value 格式与这些对象相对应的裸设备文件名映射的 spfile 的文本文件。&gt;]</span><br><span class="line">                [-redoLogFileSize &lt;每个重做日志文件的大小 (MB)&gt;]</span><br><span class="line">                [-recoveryAreaDestination &lt;所有恢复文件的目标目录&gt;]</span><br><span class="line">                [-datafileJarLocation  &lt;数据文件 jar 的位置, 只用于克隆数据库的创建&gt;]</span><br><span class="line">                [-storageType &lt; FS | ASM &gt;</span><br><span class="line">                        [-asmsnmpPassword     &lt;用于 ASM 监视的 ASMSNMP 口令&gt;]</span><br><span class="line">                         -diskGroupName   &lt;数据库区磁盘组名&gt;</span><br><span class="line">                         -recoveryGroupName       &lt;恢复区磁盘组名&gt;</span><br><span class="line">                [-characterSet &lt;数据库的字符集&gt;]</span><br><span class="line">                [-nationalCharacterSet  &lt;数据库的国家字符集&gt;]</span><br><span class="line">                [-registerWithDirService &lt;true | false&gt;</span><br><span class="line">                        -dirServiceUserName    &lt;目录服务的用户名&gt;</span><br><span class="line">                        -dirServicePassword    &lt;目录服务的口令&gt;</span><br><span class="line">                        -walletPassword    &lt;数据库 Wallet 的口令&gt;]</span><br><span class="line">                [-listeners  &lt;监听程序列表, 该列表用于配置具有如下对象的数据库&gt;]</span><br><span class="line">                [-variablesFile   &lt;用于模板中成对变量和值的文件名&gt;]]</span><br><span class="line">                [-variables  &lt;以逗号分隔的 name=value 对列表&gt;]</span><br><span class="line">                [-initParams &lt;以逗号分隔的 name=value 对列表&gt;]</span><br><span class="line">                [-memoryPercentage &lt;用于 Oracle 的物理内存百分比&gt;]</span><br><span class="line">                [-automaticMemoryManagement ]</span><br><span class="line">                [-totalMemory &lt;为 Oracle 分配的内存 (MB)&gt;]</span><br><span class="line">                [-databaseType &lt;MULTIPURPOSE|DATA_WAREHOUSING|OLTP&gt;]]</span><br><span class="line"></span><br><span class="line">通过指定以下参数来配置数据库:</span><br><span class="line">        -configureDatabase</span><br><span class="line">                -sourceDB    &lt;源数据库 sid&gt;</span><br><span class="line">                [-sysDBAUserName     &lt;用户名 (具有 SYSDBA 权限)&gt;</span><br><span class="line">                 -sysDBAPassword     &lt;sysDBAUserName 用户名的口令&gt;]</span><br><span class="line">                [-registerWithDirService|-unregisterWithDirService|-regenerateDBPassword &lt;true | false&gt;</span><br><span class="line">                        -dirServiceUserName    &lt;目录服务的用户名&gt;</span><br><span class="line">                        -dirServicePassword    &lt;目录服务的口令&gt;</span><br><span class="line">                        -walletPassword    &lt;数据库 Wallet 的口令&gt;]</span><br><span class="line">                [-disableSecurityConfiguration &lt;ALL|AUDIT|PASSWORD_PROFILE|NONE&gt;</span><br><span class="line">                [-enableSecurityConfiguration &lt;true|false&gt;</span><br><span class="line">                [-emConfiguration &lt;CENTRAL|LOCAL|ALL|NOBACKUP|NOEMAIL|NONE&gt;</span><br><span class="line">                        -dbsnmpPassword &lt;DBSNMP 用户口令&gt;</span><br><span class="line">                        -symanPassword &lt;SYSMAN 用户口令&gt;</span><br><span class="line">                        [-hostUserName &lt;EM 备份作业的主机用户名&gt;</span><br><span class="line">                         -hostUserPassword &lt;EM 备份作业的主机用户口令&gt;</span><br><span class="line">                         -backupSchedule &lt;使用 hh:mm 格式的每日备份计划&gt;]</span><br><span class="line">                        [-smtpServer &lt;电子邮件通知的发件 (SMTP) 服务器&gt;</span><br><span class="line">                         -emailAddress &lt;电子邮件通知的电子邮件地址&gt;]</span><br><span class="line">                        [-centralAgent &lt;Enterprise Manager 中央代理主目录&gt;]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">通过指定以下参数使用现有数据库创建模板:</span><br><span class="line">        -createTemplateFromDB</span><br><span class="line">                -sourceDB    &lt;服务采用 &lt;host&gt;:&lt;port&gt;:&lt;sid&gt; 格式&gt;</span><br><span class="line">                -templateName      &lt;新的模板名&gt;</span><br><span class="line">                -sysDBAUserName     &lt;用户名 (具有 SYSDBA 权限)&gt;</span><br><span class="line">                -sysDBAPassword     &lt;sysDBAUserName 用户名的口令&gt;</span><br><span class="line">                [-maintainFileLocations &lt;true | false&gt;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">通过指定以下参数使用现有数据库创建克隆模板:</span><br><span class="line">        -createCloneTemplate</span><br><span class="line">                -sourceSID    &lt;源数据库 sid&gt;</span><br><span class="line">                -templateName      &lt;新的模板名&gt;</span><br><span class="line">                [-sysDBAUserName     &lt;用户名 (具有 SYSDBA 权限)&gt;</span><br><span class="line">                 -sysDBAPassword     &lt;sysDBAUserName 用户名的口令&gt;]</span><br><span class="line">                [-maintainFileLocations &lt;true | false&gt;]</span><br><span class="line">                [-datafileJarLocation       &lt;存放压缩格式数据文件的目录&gt;]</span><br><span class="line"></span><br><span class="line">通过指定以下参数生成脚本以创建数据库:</span><br><span class="line">        -generateScripts</span><br><span class="line">                -templateName &lt;现有模板的名称&gt;</span><br><span class="line">                -gdbName &lt;全局数据库名&gt;</span><br><span class="line">                [-scriptDest       &lt;所有脚本文件的目标位置&gt;]</span><br><span class="line"></span><br><span class="line">通过指定以下参数删除数据库:</span><br><span class="line">        -deleteDatabase</span><br><span class="line">                -sourceDB    &lt;源数据库 sid&gt;</span><br><span class="line">                [-sysDBAUserName     &lt;用户名 (具有 SYSDBA 权限)&gt;</span><br><span class="line">                 -sysDBAPassword     &lt;sysDBAUserName 用户名的口令&gt;]</span><br><span class="line">通过指定以下选项来查询帮助: -h | -help</span><br></pre></td></tr></table></figure>
<blockquote>
<p>一些参数的说明：</p>
<ul>
<li>silent 指定dbca的静默安装方式</li>
<li>cloneTemplate 指定自模版文件创建</li>
<li>gdbName Global Database Name</li>
<li>sid 创建数据库的sid</li>
<li>datafileDestination 数据文件存放的目标路径</li>
<li>responseFIle 模版文件的路径</li>
</ul>
</blockquote>
<h3 id="dbca-静态安装"><a href="#dbca-静态安装" class="headerlink" title="dbca 静态安装"></a>dbca 静态安装</h3><blockquote>
<p>eq:</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dbca -silent -createDatabase -templateName $ORACLE_HOME/assistants/dbca/templates/General_Purpose.dbc -gdbName dbcrm1 -sid dbcrm1 -responseFile NO_VALUE -characterSet ZHS16GBK</span><br></pre></td></tr></table></figure>
<blockquote>
<p>res:</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[oracle@fqiyouPc ~]$ dbca -silent -createDatabase -templateName $ORACLE_HOME/assistants/dbca/templates/General_Purpose.dbc -gdbName dbcrm1 -sid dbcrm1 -responseFile NO_VALUE -characterSet ZHS16GBK</span><br><span class="line">输入 SYS 用户口令:</span><br><span class="line"></span><br><span class="line">输入 SYSTEM 用户口令:</span><br><span class="line"></span><br><span class="line">复制数据库文件</span><br><span class="line">1% 已完成</span><br><span class="line">3% 已完成</span><br><span class="line">11% 已完成</span><br><span class="line">18% 已完成</span><br><span class="line">37% 已完成</span><br><span class="line">正在创建并启动 Oracle 实例</span><br><span class="line">40% 已完成</span><br><span class="line">45% 已完成</span><br><span class="line">50% 已完成</span><br><span class="line">55% 已完成</span><br><span class="line">56% 已完成</span><br><span class="line">60% 已完成</span><br><span class="line">62% 已完成</span><br><span class="line">正在进行数据库创建</span><br><span class="line">66% 已完成</span><br><span class="line">70% 已完成</span><br><span class="line">73% 已完成</span><br><span class="line">85% 已完成</span><br><span class="line">96% 已完成</span><br><span class="line">100% 已完成</span><br><span class="line">有关详细信息, 请参阅日志文件 &quot;/home/app_oracle/oracle/cfgtoollogs/dbca/dbcrm2/dbcrm2.log&quot;。</span><br></pre></td></tr></table></figure>
<h3 id="dbca-卸载"><a href="#dbca-卸载" class="headerlink" title="dbca 卸载"></a>dbca 卸载</h3><ul>
<li>法一</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[oracle@fqiyouPc ~]$ dbca -silent -deleteDatabase -sourcedb orcl</span><br><span class="line">ORA-01031: insufficient privileges</span><br></pre></td></tr></table></figure>
<ul>
<li>法二</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dbca -silent -responseFile $ORACLE_HOME/assistants/dbca/dbcadel.rsp</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>dbca 没有卸载成功,故用此方法卸载</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; drop database ;</span><br><span class="line"> drop database</span><br><span class="line">*</span><br><span class="line">ERROR at line 1:</span><br><span class="line">ORA-01586: database must be mounted EXCLUSIVE and not open for this operation</span><br><span class="line">SQL&gt; shutdown immediate;</span><br><span class="line">Database closed.</span><br><span class="line">Database dismounted.</span><br><span class="line">ORACLE instance shut down.</span><br><span class="line">SQL&gt;  startup mount exclusive;</span><br><span class="line">ORACLE instance started.</span><br><span class="line"></span><br><span class="line">Total System Global Area 1586708480 bytes</span><br><span class="line">Fixed Size                  2213736 bytes</span><br><span class="line">Variable Size             939526296 bytes</span><br><span class="line">Database Buffers          637534208 bytes</span><br><span class="line">Redo Buffers                7434240 bytes</span><br><span class="line">Database mounted.</span><br><span class="line">SQL&gt;  drop database ;</span><br><span class="line"> drop database</span><br><span class="line">*</span><br><span class="line">ERROR at line 1:</span><br><span class="line">ORA-12719: operation requires database is in RESTRICTED mode</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SQL&gt;  alter system enable  RESTRICTED session;</span><br><span class="line"></span><br><span class="line">System altered.</span><br><span class="line"></span><br><span class="line">SQL&gt; drop database;</span><br><span class="line"></span><br><span class="line">Database dropped.</span><br><span class="line"></span><br><span class="line">Disconnected from Oracle Database 11g Enterprise Edition Release 11.2.0.1.0 - 64bit Production</span><br><span class="line">With the Partitioning, OLAP, Data Mining and Real Application Testing options</span><br><span class="line">SQL&gt; exit</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.fqiyou.com/2017/04/19/1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fqiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fqiyou-Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/19/1/" itemprop="url">OEL安装oracle11g</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-19T20:04:08+08:00">
                2017-04-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="OEL安装oracle11g"><a href="#OEL安装oracle11g" class="headerlink" title="OEL安装oracle11g"></a>OEL安装oracle11g</h2><blockquote>
<p>Oracle Linux,全称为Oracle Enterprise Linux,简称OEL,是Oracle公司在2006年初发布第一个版本,Linux发行版本之一,以对Oracle软件和硬件支持较好见长.</p>
</blockquote>
<h3 id="依赖包："><a href="#依赖包：" class="headerlink" title="依赖包："></a>依赖包：</h3><ul>
<li>Base System<ul>
<li>Base</li>
<li>Compatibility libraries</li>
<li>Legacy UNIX compatibility</li>
</ul>
</li>
<li>Servers<ul>
<li>Ftp server</li>
<li>System administration tools (ocfs2-tools 和 oracleasm-support)</li>
</ul>
</li>
<li>Desktops<ul>
<li>Desktop(tigervnc-server)</li>
</ul>
</li>
<li>Applications<ul>
<li>Internet Browser</li>
</ul>
</li>
<li>Development<ul>
<li>Additional Development</li>
<li>Development tools</li>
</ul>
</li>
</ul>
<h3 id="前期配置"><a href="#前期配置" class="headerlink" title="前期配置"></a>前期配置</h3><ul>
<li><p>1.0 安装资源限制</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/security/limits.conf</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># oracle limits</span><br><span class="line"># Writer: Y</span><br><span class="line">oracle		soft	nproc	2047</span><br><span class="line">oracle		hard	nproc	16384</span><br><span class="line">oracle		soft	nofile	1024</span><br><span class="line">oracle		hard	nofile	65536</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.0 系统内核参数设置</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysctl.conf</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># Controls the maximum shared segment size, in bytes</span><br><span class="line">#kernel.shmmax = 68719476736</span><br><span class="line"></span><br><span class="line"># Controls the maximum number of shared memory segments, in pages</span><br><span class="line">#kernel.shmall = 4294967296</span><br><span class="line"></span><br><span class="line"># oracle sysctl.conf</span><br><span class="line"># Writer: Y</span><br><span class="line">fs.aio-max-nr = 1048576</span><br><span class="line">fs.file-max = 6815744</span><br><span class="line">kernel.shmall = 2097152</span><br><span class="line">kernel.shmmax = 4294967295</span><br><span class="line">kernel.shmmni = 4096</span><br><span class="line">kernel.sem = 250 32000 100 128</span><br><span class="line">net.ipv4.ip_local_port_range = 9000 65500</span><br><span class="line">net.core.rmem_default = 262144</span><br><span class="line">net.core.rmem_max = 4194304</span><br><span class="line">net.core.wmem_default = 262144</span><br><span class="line">net.core.wmem_max = 1048586</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.0 创建用户,组</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">groupadd -g 500 oinstall;</span><br><span class="line">groupadd -g 501 dba;</span><br><span class="line">useradd -g oinstall -G dba -u 500 oracle;</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.0 创建目录,及授权</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /app/application/oracle</span><br><span class="line">mkdir -p /app/application/oraInventory</span><br><span class="line">chown -R oracle:oinstall /app/application/oracle</span><br><span class="line">chmod -R 775 /app/application/oracle</span><br><span class="line">chown -R oracle:oinstall /app/application/oraInventory</span><br><span class="line">chmod -R 775 /app/application/oraInventory</span><br></pre></td></tr></table></figure>
</li>
<li><p>5.0 修改ip及host文件</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-eth0</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DEVICE=eth0</span><br><span class="line">ONBOOT=yes</span><br><span class="line">NM_CONTROLLED=yes</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">IPADDR=10.131.66.21</span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line">DNS1=10.131.66.1</span><br><span class="line">GATEWAY=10.131.66.1</span><br><span class="line">IPV6INIT=no</span><br><span class="line">NAME=&quot;System eth0&quot;</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/hosts</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::1         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line">10.131.66.21 fqiyoudb01</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/network</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NETWORKING=yes</span><br><span class="line">HOSTNAME=fqiyoudb01</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注:system-config-network</span><br></pre></td></tr></table></figure>
</li>
<li><p>6.0 环境变量</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /home/oracle/.bash_profile</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># add oracle bash_profile</span><br><span class="line"># Writer: Y</span><br><span class="line">umask 022</span><br><span class="line">export ORACLE_BASE=/app/application/oracle</span><br><span class="line">export ORACLE_HOME=$ORACLE_BASE/product/11.2.0/dbhome_1</span><br><span class="line">export ORACLE_SID=orcl</span><br><span class="line">export TERM=xterm</span><br><span class="line">export ORA_NLS33=$ORACLE_HOME/nls/data</span><br><span class="line">export LD_LIBRARY_PATH=$ORACLE_HOME/lib:$ORACLE_HOME/rdbms/lib:/lib:/usr/lib</span><br><span class="line">export PATH=$ORACLE_HOME/bin:/usr/bin:/etc/:/usr/sbin:/usr/ucb:/sbin:$ORACLE_HOME/OPach:/bin:/usr/css/bin:$PATH</span><br><span class="line">export CLASSPATH=$ORACLE_HOME/JRE:$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib;</span><br></pre></td></tr></table></figure>
</li>
<li><p>7.0 ASM(可无)</p>
<ul>
<li><p>7.1 分区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l</span><br><span class="line">fdisk /dev/sdb</span><br><span class="line">n-&gt;p-&gt;e-&gt;w</span><br></pre></td></tr></table></figure>
</li>
<li><p>7.2 初始化asm</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">oracleasm configure -i</span><br><span class="line">oracle|oinstall|y|y</span><br></pre></td></tr></table></figure>
</li>
<li><p>7.3 关闭selinux</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/selinux/config</span><br><span class="line">SELINUX=disabled</span><br></pre></td></tr></table></figure>
</li>
<li><p>7.4 创建ASM磁盘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/oracleasm createdisk DATA01 /dev/sdb1</span><br><span class="line">/etc/init.d/oracleasm createdisk DATA02 /dev/sdb2</span><br><span class="line">/etc/init.d/oracleasm createdisk DATA03 /dev/sdb3</span><br><span class="line">/etc/init.d/oracleasm createdisk DATA04 /dev/sdb5</span><br><span class="line">/etc/init.d/oracleasm createdisk FRA01 /dev/sdb6</span><br><span class="line">/etc/init.d/oracleasm createdisk FRA02 /dev/sdb7</span><br><span class="line">/etc/init.d/oracleasm createdisk FRA03 /dev/sdb8</span><br><span class="line">/etc/init.d/oracleasm createdisk FRA04 /dev/sdb9</span><br><span class="line">/etc/init.d/oracleasm createdisk DISK01 /dev/sdb10</span><br><span class="line">/etc/init.d/oracleasm createdisk DISK02 /dev/sdb11</span><br><span class="line">/etc/init.d/oracleasm createdisk DISK03 /dev/sdb12</span><br><span class="line">/etc/init.d/oracleasm createdisk DISK04 /dev/sdb13</span><br><span class="line">/etc/init.d/oracleasm createdisk DISK05 /dev/sdb14</span><br><span class="line">/etc/init.d/oracleasm createdisk DISK06 /dev/sdb15</span><br><span class="line">/etc/init.d/oracleasm createdisk DISK07 /dev/sdb16</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>8.0 安装</p>
<blockquote>
<p>很简单,下一步</p>
</blockquote>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.fqiyou.com/2017/04/18/1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fqiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fqiyou-Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/18/1/" itemprop="url">exception</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-18T20:03:12+08:00">
                2017-04-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <table>
<thead>
<tr>
<th style="text-align:left">异常</th>
<th style="text-align:left">原因</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ACCESS_INTO_NULL</td>
<td style="text-align:left">未定义对象</td>
</tr>
<tr>
<td style="text-align:left">CASE_NOT_FOUND</td>
<td style="text-align:left">CASE中若未包含相应的 WHEN,并且没有设置ELSE时</td>
</tr>
<tr>
<td style="text-align:left">COLLECTION_IS_NULL</td>
<td style="text-align:left">集合元素未初始化</td>
</tr>
<tr>
<td style="text-align:left">CURSER_ALREADY_OPEN</td>
<td style="text-align:left">游标已经打开</td>
</tr>
<tr>
<td style="text-align:left">DUP_VAL_ON_INDEX</td>
<td style="text-align:left">唯一索引对应的列上有重复的值</td>
</tr>
<tr>
<td style="text-align:left">INVALID_CURSOR</td>
<td style="text-align:left">在不合法的游标上进行操作</td>
</tr>
<tr>
<td style="text-align:left">INVALID_NUMBER</td>
<td style="text-align:left">内嵌的 SQL 语句不能将字符转换为数字</td>
</tr>
<tr>
<td style="text-align:left">NO_DATA_FOUND</td>
<td style="text-align:left">使用 select into 未返回行，或应用索引表未初始化的  </td>
</tr>
<tr>
<td style="text-align:left">TOO_MANY_ROWS</td>
<td style="text-align:left">执行 select into 时，结果集超过一行</td>
</tr>
<tr>
<td style="text-align:left">ZERO_DIVIDE</td>
<td style="text-align:left">除数为 0</td>
</tr>
<tr>
<td style="text-align:left">SUBSCRIPT_BEYOND_COUNT</td>
<td style="text-align:left">元素下标超过嵌套表或 VARRAY 的最大值</td>
</tr>
<tr>
<td style="text-align:left">SUBSCRIPT_OUTSIDE_LIMIT</td>
<td style="text-align:left">使用嵌套表或 VARRAY 时，将下标指定为负数</td>
</tr>
<tr>
<td style="text-align:left">VALUE_ERROR</td>
<td style="text-align:left">赋值时，变量长度不足以容纳实际数据</td>
</tr>
<tr>
<td style="text-align:left">LOGIN_DENIED</td>
<td style="text-align:left">PL/SQL 应用程序连接到 oracle 数据库时，提供了不正确的用户名或密码</td>
</tr>
<tr>
<td style="text-align:left">NOT_LOGGED_ON</td>
<td style="text-align:left">PL/SQL 应用程序在没有连接 oralce 数据库的情况下访问数据</td>
</tr>
<tr>
<td style="text-align:left">PROGRAM_ERROR</td>
<td style="text-align:left">PL/SQL 内部问题，可能需要重装数据字典＆ pl./SQL 系统包</td>
</tr>
<tr>
<td style="text-align:left">ROWTYPE_MISMATCH</td>
<td style="text-align:left">宿主游标变量与 PL/SQL 游标变量的返回类型不兼容</td>
</tr>
<tr>
<td style="text-align:left">SELF_IS_NULL</td>
<td style="text-align:left">使用对象类型时，在 null 对象上调用对象方法</td>
</tr>
<tr>
<td style="text-align:left">STORAGE_ERROR</td>
<td style="text-align:left">运行 PL/SQL 时，超出内存空间</td>
</tr>
<tr>
<td style="text-align:left">SYS_INVALID_ID</td>
<td style="text-align:left">无效的 ROWID 字符串</td>
</tr>
<tr>
<td style="text-align:left">TIMEOUT_ON_RESOURCE</td>
<td style="text-align:left">Oracle 在等待资源时超时  </td>
</tr>
</tbody>
</table>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.fqiyou.com/2017/04/17/1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fqiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fqiyou-Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/17/1/" itemprop="url">glogin</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-17T20:01:59+08:00">
                2017-04-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="glogin-sql文件"><a href="#glogin-sql文件" class="headerlink" title="glogin.sql文件"></a>glogin.sql文件</h2><blockquote>
<p>sqlplus配置文件<br>当登入sqlplus时显示SQL&gt;不直观是哪个实例或者用户,为此修改glogin.sql文件达到想要效果,及配置sqlplus默认信息</p>
</blockquote>
<h3 id="ORACLE-HOME-sqlplus-admin"><a href="#ORACLE-HOME-sqlplus-admin" class="headerlink" title="$ORACLE_HOME/sqlplus/admin"></a>$ORACLE_HOME/sqlplus/admin</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">--</span><br><span class="line">-- opyright (c) 1988, 2005, Oracle.  All Rights Reserved.</span><br><span class="line">--</span><br><span class="line">-- NAME</span><br><span class="line">--   glogin.sql</span><br><span class="line">--</span><br><span class="line">-- DESCRIPTION</span><br><span class="line">--   SQL*Plus global login &quot;site profile&quot; file</span><br><span class="line">--</span><br><span class="line">--   Add any SQL*Plus commands here that are to be executed when a</span><br><span class="line">--   user starts SQL*Plus, or uses the SQL*Plus CONNECT command.</span><br><span class="line">--</span><br><span class="line">-- USAGE</span><br><span class="line">--   This script is automatically run</span><br><span class="line">--</span><br><span class="line">-- Used by Trusted Oracle</span><br><span class="line">COLUMN ROWLABEL FORMAT A15</span><br><span class="line"></span><br><span class="line">-- Used for the SHOW ERRORS command</span><br><span class="line">COLUMN LINE/COL FORMAT A8</span><br><span class="line">COLUMN ERROR    FORMAT A65  WORD_WRAPPED</span><br><span class="line"></span><br><span class="line">-- Used for the SHOW SGA command</span><br><span class="line">COLUMN name_col_plus_show_sga FORMAT a24</span><br><span class="line">COLUMN units_col_plus_show_sga FORMAT a15</span><br><span class="line">-- Defaults for SHOW PARAMETERS</span><br><span class="line">COLUMN name_col_plus_show_param FORMAT a36 HEADING NAME</span><br><span class="line">COLUMN value_col_plus_show_param FORMAT a30 HEADING VALUE</span><br><span class="line"></span><br><span class="line">-- Defaults for SHOW RECYCLEBIN</span><br><span class="line">COLUMN origname_plus_show_recyc   FORMAT a16 HEADING &apos;ORIGINAL NAME&apos;</span><br><span class="line">COLUMN objectname_plus_show_recyc FORMAT a30 HEADING &apos;RECYCLEBIN NAME&apos;</span><br><span class="line">COLUMN objtype_plus_show_recyc    FORMAT a12 HEADING &apos;OBJECT TYPE&apos;</span><br><span class="line">COLUMN droptime_plus_show_recyc   FORMAT a19 HEADING &apos;DROP TIME&apos;</span><br><span class="line"></span><br><span class="line">-- Defaults for SET AUTOTRACE EXPLAIN report</span><br><span class="line">-- These column definitions are only used when SQL*Plus</span><br><span class="line">-- is connected to Oracle 9.2 or earlier.</span><br><span class="line">COLUMN id_plus_exp FORMAT 990 HEADING i</span><br><span class="line">COLUMN parent_id_plus_exp FORMAT 990 HEADING p</span><br><span class="line">COLUMN plan_plus_exp FORMAT a60</span><br><span class="line">COLUMN object_node_plus_exp FORMAT a8</span><br><span class="line">COLUMN other_tag_plus_exp FORMAT a29</span><br><span class="line">COLUMN other_plus_exp FORMAT a44</span><br><span class="line"></span><br><span class="line">-- Default for XQUERY</span><br><span class="line">COLUMN result_plus_xquery HEADING &apos;Result Sequence&apos;</span><br><span class="line">set sqlprompt&quot;_user&apos;@&apos;_connect_identifier&gt;&quot;</span><br></pre></td></tr></table></figure>
<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[oracle@fqiyouPc ~]$</span><br><span class="line">[oracle@fqiyouPc ~]$ sqlplus /nolog</span><br><span class="line">SQL*Plus: Release 11.2.0.1.0 Production on Wed Mar 15 16:50:19 2017</span><br><span class="line">Copyright (c) 1982, 2009, Oracle.  All rights reserved.</span><br><span class="line">@&gt;conn /as sysdba</span><br><span class="line">Connected.</span><br><span class="line">SYS@dbcrm1&gt;</span><br><span class="line">SYS@dbcrm1&gt;</span><br><span class="line">SYS@dbcrm1&gt;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.fqiyou.com/2017/04/16/1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fqiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fqiyou-Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/16/1/" itemprop="url">sqlnet</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-16T20:00:49+08:00">
                2017-04-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="sqlnet-ora文件"><a href="#sqlnet-ora文件" class="headerlink" title="sqlnet.ora文件"></a>sqlnet.ora文件</h2><h3 id="SQLNET-AUTHENTICATION-SERVICES"><a href="#SQLNET-AUTHENTICATION-SERVICES" class="headerlink" title="SQLNET.AUTHENTICATION_SERVICES"></a>SQLNET.AUTHENTICATION_SERVICES</h3><blockquote>
<p>定义登录数据库的认证方式</p>
<ul>
<li>Default NONE</li>
<li>NONE for no authentication methods. A valid username and password can be used to access the database.</li>
<li>ALL for all authentication methods</li>
<li>NTS for Windows NT native authentication(An authentication method that enables a client single login access to a Windows NT server and a database running on the server)</li>
</ul>
</blockquote>
<h3 id="ip配置"><a href="#ip配置" class="headerlink" title="ip配置"></a>ip配置</h3><ul>
<li>tcp.validnode_checking=yes:表示启用客户端的IP检查,非法的IP将被拒绝访问Oracle.</li>
<li>tcp.invited_nodes=(IP1,IP2,IP3…):表示允许哪些IP访问Oracle.</li>
<li>tcp.excluded_nodes=(IP1,IP2,IP3…):表示拒绝哪些IP访问Oracle.</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/001.jpg"
               alt="fqiyou" />
          <p class="site-author-name" itemprop="name">fqiyou</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">24</span>
                <span class="site-state-item-name">Artikel</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">Tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">fqiyou</span>
</div>


<div class="powered-by">
  Erstellt mit  <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
